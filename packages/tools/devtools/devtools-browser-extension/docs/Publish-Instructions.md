# Publishing Instructions

Notes:

-   This document is a work in progress, and will be filled in over time.
-   In the future, we plan to automate much of this process, but for now it is entirely manual.
    -   Additionally, publishing may only be performed by a Microsoft employee
-   The extension and its corresponding library packages are in "preview" / "alpha" mode, meaning that we are not yet making long term compatability guarantees.
    Those library packages include:
    -   [devtools-core](https://github.com/microsoft/FluidFramework/tree/main/packages/tools/devtools/devtools-core)
    -   [devtools](https://github.com/microsoft/FluidFramework/tree/main/packages/tools/devtools/devtools)
    -   [devtools-view](https://github.com/microsoft/FluidFramework/tree/main/packages/tools/devtools/devtools-view)

Currently, we are publishing this extension to the `Chrome` and `Edge` extension stores.
In the future, we may add `Firefox` and possibly other browsers, but for now we only target those two.

Each store has its own required steps for publishing, which we will expand on later.
But there are a few steps you will need to take before publishing to either store.
They are...

## 1. Bump the manifest version

See `public/manifest.json` under the package root.
It contains a `version` field, which is what determines the version respected and displayed by the browsers.
In order to publish a new version of the extension to any of the stores, this version needs to be incremented relative to the previous release.

We are generally attempting to mimic [Semantic Versioning (SemVer)](TODO) for the extension.
In particular, we are using SemVer to reflect breaking changes between the extension and its corresponding library packages, with which the extension interacts via message-passing, rather than via its TypeScript / JavaScript API.

While we are in "preview" state, we are strictly limiting manifest version updates to `patch`-level updates (i.e., we will stick to `0.0.x`).
While we will generally try to avoid introducing true breakages between the library package and the extension, if we have to do make such a change, we can.
Users are encouraged to use the newest versions of the libraries and the extension to ensure compatability.

Before publishing an extension update, make a PR which increments the `patch` component of the version field by 1.
If possible, please update `EXTENSION_CHANGELOG.md` with any noteable changes that have been made to the extension since the last release.

## 2. Build the extension

Follow the [build instructions in the package README]() to build the code.

Note: The code should be built from the `main` branch, as this is the branch in which we run (via automated CI) various compliance checks.
When we eventually automate this process, it will be done from `main` (or from a branch with comperable compliance guarantees).

Find the bundle output generated by `Webpack`, which lives under `dist/bundle`.
Compress this directory as a `zip`.
This `zip` file is what we will upload to each of the stores.

## 3. Publish to the browser stores

### Publish to the Edge store

Our published extension for the `Edge` browser can be found [here](https://aka.ms/fluid/devtool/edge).

The portal used for managing the extension in the `Edge` store can be found [here](https://partner.microsoft.com/en-us/dashboard/microsoftedge/b21bb070-408b-4b8f-b943-3e3f1a4d3c76/packages/dashboard).

To publish an update, you will need to do the following:

TODO

### Publish to the Chrome store

Our published extension for the `Chrome` browser can be found [here](https://aka.ms/fluid/devtool/chrome).

The portal used for managing the extension in the `Chrome` store can be found [here](TODO).
In order to gain access, you will need to do the following:

1. Join the `MSFT LiveApps Google Dev Account Users` alias via the [identity portal](TODO).

To publish an update, you will need to do the following:

TODO

### Copy-pastable information for the publishing portals

The following blurbs can be copy-pasted into the publishing portals to update details about the extension / add context for the browser teams to do their review.

Note: this document should be considered the "source of truth" for what we use in the browser store portals for the browser stores.
This way, we can be sure that our content is consistent between the stores.
If you wish to update any of the details in the portal, please update the contents here first, and make a PR with the changes.
_Then_ make the corresponding updates in the browser store portals.

#### Extension Description

The Fluid Framework Developer Tools extension for the open-source Fluid Framework platform. It enables developers to gain a deeper understanding of Fluid state in their application, offering insights into Container and Audience states, data visualization, and a live telemetry view with more functionality coming soon.
To get started, ensure that your Fluid application has integrated the developer tools library, and is configured to initialize them as a part of application startup. For more information, see here: https://aka.ms/fluiddevtool.
From there, simply launch your application and open the "Fluid Framework Devtools" tab in the browserâ€™s devtools pane.

The left navigation panel shows all the containers in your application. Selecting a container will show the details on the right panel.
Right panel shows the container state, current client ID and buttons to disconnect and close the selected container. Below that, the "Data", "Audience" and "States" tabs show more information.
The "Data" tab allows you to look at the Container data in hierarchical structure including data types and values.
The "Audience" tab allows you to view the users currently in the container, their client ID and permissions scopes. You also get a historical view of all users joining/leaving the container.
The "States" tab shows a log of container state changes (connect, attach, disconnect)
Selecting "Telemetry"/"Events" in the left navigation shows a running log of framework events including details of the events.

Fluid Framework is a collection of client libraries for distributing and synchronizing shared states and makes it simple for developers to build real-time multiuser collaborative experiences. To learn more, visit https://aka.ms/fluid.

#### Notes for certification / review

This extension works in conjunction with an application-side library, which requires explicit integration by the application.
An example application that is already set up with Fluid Framework Developer Tools integration can be found here: https://github.com/microsoft/FluidFramework/tree/main/azure/packages/external-controller.
